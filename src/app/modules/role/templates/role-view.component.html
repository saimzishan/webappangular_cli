<div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
        <h1>
            {{"Role"|translate}}

            <span *ngIf="successMsg" class="text-green"> {{successMsg}}</span>
            <span *ngIf="errorMsg" class="text-red"> {{errorMsg}}</span>
        </h1>
        <!-- <ol class="breadcrumb">
            <li>
                <a href="#">
                    <i class="fa fa-dashboard"></i> {{"Home"|translate}}</a>
            </li>
            <li>
                <a href="#">{{"Roles"|translate}}</a>
            </li>
            <li class="active">{{"View"|translate}}</li>
            
        </ol> -->
        <div class="box-header">
            <!-- button is disabled -->
        <button [disabled]="true" type="button" class="add-button " (click)="addModal.show()">
            <i class="fa fa-plus-square-o"> </i> {{"New Role"|translate}}</button>
    </div>
    </section>

    <!-- Main content -->
    <section class="content">
        <div class="row">
            <div class="col-xs-12">

                <div class="box">
                    
                   
                    <!-- <div class="box-header">
                        <h3 class="box-title">{{"All Roles"|translate}} </h3>
                    </div> -->


                    <!-- /.box-header -->
                    <div class="box-body col-sm-12">
                        <table id="tblCompanyData" class="table table-bordered table-striped">
                            <thead>
                                <tr>
                                    <th>{{"Name"|translate}}</th>
                                    <th>{{"Action"|translate}}</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let roleItem of roles; let last = last">
                                    <td>{{roleItem.Name}}</td>

                                    <td>
                                        <a href="javascript:;">
                                            <i (click)="changeRole(roleItem);editroleModal.show()" class="glyphicon glyphicon-edit text-aqua"></i>
                                        </a>
                                        <!-- <button> <i (click)="rolemodal.show(roleItem.id)" class="fa fa-trash text-red"></i> </button> -->
                                        <input id="checkBox" type="checkbox">
                                    </td>
                                    {{last ? initTable() : ''}}
                                </tr>
                            </tbody>
                            <tfoot>
                                <tr>
                                    <th>{{"Name"|translate}}</th>
                                    <th>{{"Action"|translate}}</th>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                    <!-- /.box-body -->
                </div>
                <!-- /.box -->
            </div>
            <!-- /.col -->
        </div>
        <!-- /.row -->
    </section>
    <!-- /.content -->
</div>

<app-modal #rolemodal>
    <div class="app-modal-header">
        {{"Confirmation"|translate}}
    </div>
    <div class="app-modal-body">
        {{"Are you sure you want to delete this record ?"|translate}}
    </div>
    <div class="app-modal-footer">
        <button type="button" class="btn btn-primary" (click)="deleteRoles(rolemodal.passData);rolemodal.hide()">{{"Yes"|translate}}</button>
        <button type="button" class="btn btn-default" (click)="rolemodal.hide()">{{"No"|translate}}</button>
    </div>
</app-modal>

<app-modal #editroleModal>
    <div class="app-modal-header">
        Update {{ role.Name }}
    </div>
    <div class="app-modal-body edit-form-style">
        <partial-role [role]="role"></partial-role>
    </div>
    <div class="app-modal-footer">
        <button type="button" class="btn btn-primary" (click)="editRole();editroleModal.hide()">{{"Save"|translate}}</button>
        <button type="button" class="btn btn-default" (click)="editroleModal.hide()">{{"Cancel"|translate}}</button>
    </div>
</app-modal>

<app-modal #addModal class="edit-form-style">
    <div class="app-modal-header">
        <h3>{{"Add Role"|translate}} </h3>
    </div>
    <div class="app-modal-body edit-form-style">
        <partial-role [role]="role"></partial-role>
    </div>
    <div class="app-modal-footer">
        <button type="button" class="btn btn-primary" (click)=" addRole();addModal.hide()">{{"Save"|translate}}</button>
        <button type="button" class="btn btn-default" (click)="addModal.hide()">{{"Cancel"|translate}}</button>
    </div>
</app-modal>